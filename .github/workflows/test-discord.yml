name: ğŸ§ª Test Discord Webhook

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
      - name: ğŸ“¤ Send Test Message to Discord
        run: |
          echo "ğŸ“¤ Testing Discord webhook..."
          
          curl -H "Content-Type: application/json" \
               -d '{
                 "embeds": [{
                   "title": "ğŸ§ª Test Message",
                   "description": "**This is a test message from GitHub Actions!**\n\nIf you see this, your Discord webhook is working correctly! âœ…",
                   "color": 5763719,
                   "fields": [
                     {"name": "Status", "value": "âœ… Working", "inline": true},
                     {"name": "Time", "value": "'"$(date -u +%Y-%m-%d\ %H:%M:%S)"'", "inline": true}
                   ],
                   "footer": {"text": "Discord Webhook Test"},
                   "timestamp": "'"$(date -u +%Y-%m-%dT%H:%M:%SZ)"'"
                 }]
               }' "${{ secrets.DISCORD_WEBHOOK_URL }}"
          
          if [ $? -eq 0 ]; then
            echo "âœ… Discord message sent successfully!"
          else
            echo "âŒ Failed to send Discord message!"
            exit 1
          fi
